<!-- Generated by SpecStory -->

# Fixing Function Not Found Error (2025-04-06 15:31:25)

_**User**_

fix the error "cannot find function error_fragment()" that is on this line

---

_**Assistant**_



---

Okay, I can help with that. It seems the function `error_fragment` is not defined or imported in the current scope.

I'll search the codebase to see if `error_fragment` is defined elsewhere or if there's a common pattern for returning error fragments in other page controllers.

---

<details>
            <summary>Searched codebase "error_fragment function definition" â€¢ **25** results</summary>
        
| File | Lines |
|------|-------|
| `src/views/mod.rs` | L1-40 |
| `src/controllers/teams_pages.rs` | L787-839 |
| `src/middleware/auth_no_error.rs` | L172-220 |
| `src/controllers/teams_pages.rs` | L839-878 |
| `src/initializers/view_engine.rs` | L73-112 |
| `src/utils/template.rs` | L42-72 |
| `assets/views/error.html` | L1-15 |
| `doc/dev/roadmap/phase-1/cursor-chat-history/2025-03-26_09-21-template-rendering-issue-in-@show-html-tera.md` | L230-283 |
| `src/initializers/view_engine.rs` | L30-73 |
| `src/controllers/auth_pages.rs` | L67-94 |
| `src/utils/template.rs` | L1-42 |
| `src/middleware/auth_no_error.rs` | L81-113 |
| `src/middleware/auth_no_error.rs` | L113-172 |
| `src/middleware/auth_no_error.rs` | L35-81 |
| `src/models/users.rs` | L97-142 |
| `doc/dev/roadmap/phase-1/cursor-chat-history/2025-03-25_07-26-requirements-verification-and-implementation.md` | L3548-3609 |
| `src/views/js/auth.js` | L49-58 |
| `src/middleware/auth_no_error.rs` | L1-35 |
| `doc/dev/roadmap/phase-1/cursor-chat-history/2025-03-26_19-55-team-invitation-error-handling-with-htmx.md` | L1-91 |
| `src/models/team_memberships.rs` | L37-81 |
| `src/middleware/auth_no_error.rs` | L220-281 |
| `src/initializers/view_engine.rs` | L112-136 |
| `doc/dev/roadmap/phase-1/cursor-chat-history/2025-04-02_19-44-plan-for-implementing-todos-in-auth-pages.md` | L3338-3379 |
| `doc/dev/roadmap/phase-1/cursor-chat-history/2025-03-25_21-58-team-creation-button-error.md` | L221-291 |
| `src/models/teams.rs` | L35-78 |

</details>

---



---

The search results indicate that the `error_fragment` function is defined in the `src/views/mod.rs` file.

I will add the necessary import statement to `src/controllers/teams_pages.rs` to resolve this error.

---

```diff
  
  use loco_rs::controller::middleware::auth::JWT;
+ 
+ use crate::views::{teams::*, users::*};
+ use crate::views::error_fragment;
  
  /// Create team page
```

---

I've added the import for `error_fragment`. This should resolve the "cannot find function `error_fragment`" error.

Please let me know if you need any further assistance.

---



---

