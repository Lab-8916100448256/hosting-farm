{# SSH Keys management section for the profile page #}
<div class="mt-8">
  <h2 class="text-xl font-bold mb-4">SSH Public Keys</h2>
  {% if error %}
    <div class="bg-red-100 text-red-700 p-2 rounded mb-4">{{ error }}</div>
  {% endif %}
  <div id="ssh-keys-list">
    {% if ssh_keys | length > 0 %}
      <ul class="divide-y divide-gray-200">
        {% for key in ssh_keys %}
          <li class="py-2 flex flex-col md:flex-row md:items-center md:justify-between">
            <div class="break-all">
              <span class="font-mono">{{ key.key }}</span>
              {% if key.label %}
                <span class="ml-2 text-sm text-gray-500">({{ key.label }})</span>
              {% endif %}
            </div>
            <div class="mt-2 md:mt-0 flex space-x-2">
              <button 
                hx-get="/profile/ssh-keys/{{ key.id }}/edit" 
                hx-target="#ssh-key-edit-form" 
                hx-swap="innerHTML" 
                class="px-2 py-1 bg-blue-100 text-blue-800 rounded hover:bg-blue-200 text-xs">
                Edit
              </button>
              <button 
                hx-post="/profile/ssh-keys/{{ key.id }}/delete" 
                hx-target="#ssh-keys-list" 
                hx-swap="outerHTML" 
                class="px-2 py-1 bg-red-100 text-red-800 rounded hover:bg-red-200 text-xs">
                Delete
              </button>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <div class="text-gray-500">No SSH keys added yet.</div>
    {% endif %}
  </div>

  <div class="mt-4">
    <button 
      hx-get="/profile/ssh-keys/add" 
      hx-target="#ssh-key-add-form" 
      hx-swap="innerHTML" 
      class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">
      Add SSH Key
    </button>
  </div>

  <div id="ssh-key-add-form" class="mt-4"></div>
  <div id="ssh-key-edit-form" class="mt-4"></div>
</div>
